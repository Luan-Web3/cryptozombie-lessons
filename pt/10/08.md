---
title: Implantar no Loom Testnet
actions: ['verificarResposta', 'dicas']
requireLogin: true
material:
  editor:
    language: javascript
    startingCode:
      "./truffle.js": |
        // Inicialize HDWalletProvider
        const HDWalletProvider = require("truffle-hdwallet-provider");

        // 1. Inicialize LoomTruffleProvider

        // Defina seu próprio mnemônico aqui
        const mnemonic = "YOUR_MNEMONIC";

        // Exportações de módulos para tornar esta configuração disponível para o próprio Truffle
        module.exports = {
          // Objeto com configuração para cada rede
          networks: {
            // Configuração para mainnet
            mainnet: {
              provider: function () {
                // Configurando o provedor com o endereço Mainnet e Token da Infura
                return new HDWalletProvider(mnemonic, "https://mainnet.infura.io/v3/YOUR_TOKEN")
              },
              network_id: "1"
            },
            // Configuração para rede rinkeby
            rinkeby: {
              // Função especial para configurar o provedor
              provider: function () {
                // Configurando o provedor com o endereço e token Infura Rinkeby
                return new HDWalletProvider(mnemonic, "https://rinkeby.infura.io/v3/YOUR_TOKEN")
              },
              // Id da rede é 4 para Rinkeby
              network_id: 4
            },
          // 2. Coloque aqui a configuração para loom_dapp_chain

          }
        };
    answer: |
        // Inicialize HDWalletProvider
        const HDWalletProvider = require("truffle-hdwallet-provider");

        //Inicialize LoomTruffleProvider
        const LoomTruffleProvider = require('loom-truffle-provider');

        // Defina seu próprio mnemônico aqui
        const mnemonic = "YOUR_MNEMONIC";

        // Exportações de módulos para tornar esta configuração disponível para o próprio Truffle
        module.exports = {
          // Objetos com configuração para cada rede
          networks: {
            // Configuração para mainnet
            mainnet: {
              provider: function () {
                // Configurando o provedor com o endereço Mainnet e Token da Infura
                return new HDWalletProvider(mnemonic, "https://mainnet.infura.io/v3/YOUR_TOKEN")
              },
              network_id: "1"
            },
            // Configuração para rinkeby network
            rinkeby: {
              // Função especial para configurar o provedor
              provider: function () {
                // Configurando o provedor com o endereço e token Infura Rinkeby
                return new HDWalletProvider(mnemonic, "https://rinkeby.infura.io/v3/YOUR_TOKEN")
              },
              // Id da rede é 4 para Rinkeby
              network_id: 4
            },
            // Configuração para Loom
            loom_testnet: {
              provider: function() {
                  const privateKey = 'YOUR_PRIVATE_KEY'
                  const chainId = 'extdev-plasma-us1';
                  const writeUrl = 'http://extdev-plasma-us1.dappchains.com:80/rpc';
                  const readUrl = 'http://extdev-plasma-us1.dappchains.com:80/query';
                  return new LoomTruffleProvider(chainId, writeUrl, readUrl, privateKey);
              },
              network_id: '9545242630824'
            }
          }
        };

---
Neste capítulo, vamos implantar nosso contrato inteligente na **_Loom_** Testnet, mas antes de fazer a implantação, algum trabalho de preparação é necessário.

Primeiro, devemos criar nossa própria chave privada **_Loom_**. A maneira mais fácil de fazer isso é baixando e instalando **_Loom_** de acordo com este <a href="https://loomx.io/developers/en/basic-install-all.html" target=_blank>tutorial</a>.

Em seguida, criar uma chave privada é tão simples quanto isto:

```bash
$./loom genkey -a public_key -k private_key
local address: 0x42F401139048AB106c9e25DCae0Cf4b1Df985c39
local address base64: QvQBE5BIqxBsniXcrgz0sd+YXDk=
$cat private_key
/i0Qi8e/E+kVEIJLRPV5HJgn0sQBVi88EQw/Mq4ePFD1JGV1Nm14dA446BsPe3ajte3t/tpj7HaHDL84+Ce4Dg==
```

>Nota: Nunca revele suas chaves privadas! Estamos fazendo isso apenas por uma questão de simplicidade.

## Atualizando truffle.js

A primeira coisa que precisamos fazer é inicializar `loom-truffle-provider`. A sintaxe é similar à que já usamos para `HDWalletProvider`:

```JavaScript
const LoomTruffleProvider = require('loom-truffle-provider');
```

Em seguida, assim como fizemos no capítulo 5, teremos que deixar **_Truffle_** saber como implantar na testnet **_Loom_**. Para fazer isso, vamos adicionar um novo objeto a `truffle.js`

```JavaScript
loom_testnet: {
  provider: function() {
    const privateKey = 'YOUR_PRIVATE_KEY'
    const chainId = 'extdev-plasma-us1';
    const writeUrl = 'http://extdev-plasma-us1.dappchains.com:80/rpc';
    const readUrl = 'http://extdev-plasma-us1.dappchains.com:80/query';
    return new LoomTruffleProvider(chainId, writeUrl, readUrl, privateKey);
    },
  network_id: '9545242630824'
}
```

# Vamos testar

1. Adicione a linha de código que inicializa `LoomTruffleProvider`.

2. Coloque a configuração para `loom_testnet` perto do final do arquivo.

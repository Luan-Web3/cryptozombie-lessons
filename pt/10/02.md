---
title: Come√ßando com Truffle
actions: ['verificarResposta', 'dicas']
requireLogin: true
material:
  terminal:
        help: |
            Primeiro, voc√™ provavelmente deve executar `truffle init`. Em seguida, execute `npm install truffle-hdwallet-provider`
        commands:
            "truffle init":
                hint: truffle init
                output: |
                    Downloading...
                    Unpacking...
                    Setting up...
                    Unbox successful. Sweet!

                    Commands:

                        Compile:        truffle compile
                        Migrate:        truffle migrate
                        Test contracts: truffle test
            "npm install truffle-hdwallet-provider":
                hint: npm install truffle-hdwallet-provider
                output: |
                  + truffle-hdwallet-provider@0.0.6
                  added 1 package from 1 contributor and audited 71402 packages in 5.612s
                  found 0 vulnerabilities
---

Agora que instalamos o **Truffle**, √© hora de inicializar nosso novo projeto executando `truffle init`. Tudo o que ele est√° fazendo √© criar um conjunto de pastas e arquivos de configura√ß√£o com a seguinte estrutura:

```
‚îú‚îÄ‚îÄ contracts
    ‚îú‚îÄ‚îÄ Migrations.sol
‚îú‚îÄ‚îÄ migrations
    ‚îú‚îÄ‚îÄ 1_initial_migration.js
‚îî‚îÄ‚îÄ test
truffle-config.js
truffle.js
```

Contratos, migra√ß√µes, testes... isso √© bem complicadoüòü

N√£o se preocupe, aprender a usar o **Truffle** n√£o vai comer seu c√©rebro. Este cap√≠tulo vai te guiar pela estrutura de projeto padr√£o do **Truffle**, e quando voc√™ souber como usar o **Truffle**, implementar contratos inteligentes ser√° moleza.

## Estrutura de diret√≥rio padr√£o do Truffle

Ent√£o, executar o comando `truffle init` dentro do diret√≥rio `CryptoZombies` deve criar v√°rios diret√≥rios e alguns arquivos JavaScript e Solidity. Vamos dar uma olhada mais de perto:

 - **_contracts_**: este √© o lugar onde **Truffle** espera encontrar todos os nossos contratos inteligentes. Para manter o c√≥digo organizado, podemos at√© criar pastas aninhadas, como `contracts/tokens`. Bem legalüòâ.

 >Nota: `truffle init` deve criar automaticamente um contrato chamado `Migrations.sol` e o arquivo de migra√ß√£o correspondente. Explicaremos isso um pouco mais tarde.

 - **_migrations_**: uma migra√ß√£o √© um arquivo JavaScript que informa ao **Truffle** como implantar um contrato inteligente.

 - **_test_**: aqui devemos colocar os testes de unidade que ser√£o arquivos JavaScript ou Solidity. Lembre-se, uma vez que um contrato √© implantado, ele n√£o pode ser alterado, tornando essencial que testemos nossos contratos inteligentes antes de implant√°-los.

 - **_truffle.js_** e **_truffle-config.js_**: arquivos de configura√ß√£o usados ‚Äã‚Äãpara armazenar as configura√ß√µes de rede para implanta√ß√£o. **Truffle** precisa de dois arquivos de configura√ß√£o porque no Windows ter `truffle.js` e `truffle.exe` na mesma pasta pode gerar conflitos. Resumindo a hist√≥ria - se voc√™ estiver executando o Windows, √© aconselh√°vel excluir `truffle.js` e usar `truffle-config.js` como o arquivo de configura√ß√£o padr√£o. Confira a <a href="https://truffleframework.com/docs/truffle/reference/configuration" target=_blank>documenta√ß√£o oficial</a> do **Truffle** para entender melhor.


Mas por que eu deveria usar essa estrutura de diret√≥rio? N√£o estou acostumado e parece complicado...

Bem, h√° algumas boas raz√µes. Primeiro, **Truffle** n√£o funcionar√° como esperado se voc√™ alterar os nomes dessas pastas.

Segundo, ao aderir a essa conven√ß√£o, seus projetos ser√£o facilmente compreendidos por outros desenvolvedores. Para resumir, usar estruturas de pastas e conven√ß√µes de c√≥digo padr√£o torna mais f√°cil se voc√™ expandir ou alterar sua equipe no futuro.

## truffle-hdwallet-provider

Nesta li√ß√£o, usaremos _Infura_ para implantar nosso c√≥digo no **_Ethereum_**. Dessa forma, podemos executar o aplicativo sem precisar configurar nosso pr√≥prio n√≥ **_Ethereum_** ou carteira.
No entanto, para manter as coisas seguras, _Infura_ n√£o gerencia as chaves privadas, o que significa que ele n√£o pode assinar transa√ß√µes em nosso nome. Como a implanta√ß√£o de um contrato inteligente requer que **Truffle** assine transa√ß√µes, precisaremos de uma ferramenta chamada `truffle-hdwallet-provider`. Seu √∫nico prop√≥sito √© lidar com a assinatura da transa√ß√£o.

>Nota: Talvez voc√™ esteja se perguntando por que escolhemos n√£o instalar `truffle-hdwallet-provider` no cap√≠tulo anterior usando algo como:

 ```shell
 npm install truffle truffle-hdwallet-provider
 ```
 
Bem... o comando `truffle init` espera encontrar um diret√≥rio vazio. Se houver algum arquivo l√°, ele dar√° erro. Portanto, precisamos fazer tudo na ordem correta e instalar `truffle-hdwallet-provider` depois de executarmos `truffle init`.


# Vamos testar

1. Rode `truffle init`. Este comando gera a estrutura de diret√≥rio que discutimos.

2. Rode `npm install truffle-hdwallet-provider`.
